MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;INSTITUTO POLITECNICO NACIONAL
                      00002 ;CECYT 9 JUAN DE DIOS BATIZ
                      00003 ;
                      00004 ;PRACTICA 1 MANEJO DE UNA PANTALLA LCD (RELOJ DE TIEMPO REAL).
                      00005 ;
                      00006 ;GRUPO:6IM2
                      00007 ;
                      00008 ;INTEGRANTE
                      00009 ;Morales Martínez José Antonio
                      00010 ;
                      00011 ;El programa ejecutara un reloj en tiempo real mediante interrupciones y se vizualizara en un 
                      00012 ;LCD
                      00013 ;----------------------------------------------------------------------------------------------------
                      00014 
Warning[205]: Found directive in column 1. (LIST)
                      00015 LIST P=16F877A; // Directiva utilizada para definir el microcontrolador a utilizar
                      00016 
                      00017 
                      00018 #INCLUDE "c:\program files (x86)\microchip\mpasm suite\p16f877a.inc"; 
                      00001         LIST
                      00002 ; P16F877A.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
                      00400         LIST
                      00019 
                      00020 
                      00021 ;Bits de configuracion
Warning[205]: Found directive in column 1. (__CONFIG)
2007   3F31           00022 __CONFIG _XT_OSC & _WDT_OFF & _PWRTE_ON & _BODEN_OFF & _LVP_OFF & _CP_OFF; ALL
                      00023 
                      00024 ;------------------------------------------------------------------------------------------------------
                      00025 ;fosc = 4 Mhz.
                      00026 ;Ciclo de trabajo del PIC = (1/fosc)*4 = 1us.
                      00027 ;t int =(256-R)*(P)*((1/4000000)*4) = 1 ms ;// Tiempo de interrupción.
                      00028 ;R=131, p=8.
                      00029 ;frec int = 1/ t int = 1Khz.
                      00030 ;------------------------------------------------------------------------------------------------------
                      00031 ;
                      00032 ;Registros de proposito general Banco 0 de Memoria RAM.
                      00033 ;
                      00034 ;Registros propios de estructura del programa
                      00035 
                      00036 
  00000023            00037 CTA_UNISEG              EQU                     0X23;   //Dirección de la memoria RAM para el registro d
                            e las unidades de segundo
  00000024            00038 CTA_DECSEG              EQU                     0X24;   //Dirección de la memoria RAM para el registro d
                            e las decenas de segundo
  00000025            00039 CTA_UNIMIN              EQU                     0X25;   //Dirección de la memoria RAM para el registro d
                            e las unidades de minuto
  00000026            00040 CTA_DECMIN      EQU                     0X26;   //Dirección de la memoria RAM para el registro de las de
                            cenas de minuto
  00000027            00041 CTA_UNIHOR              EQU                     0X27;   //Dirección de la memoria RAM para el registro d
                            e las unidades de minuto
  00000028            00042 CTA_DECHOR      EQU                     0X28;   //Dirección de la memoria RAM para el registro de las de
                            cenas de minuto
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000029            00043 RES_W               EQU                 0X29;   
  00000030            00044 RES_STATUS              EQU                     0X30;
  00000031            00045 RES_PCLATH              EQU                     0X31;
  00000032            00046 RES_FSR                 EQU                     0X32;
  00000033            00047 PRESC_1                 EQU                     0X33;
  00000034            00048 PRESC_2                 EQU                     0X34;
  00000035            00049 BANDERAS                EQU                     0X35;   
  00000036            00050 CONT_MILIS              EQU                     0X36;
                      00051 
  00000037            00052 BUFFER7         EQU                     0X37;   //Dirección de la memoria RAM para el buffer 7
  00000038            00053 BUFFER6             EQU                 0X38;   //Dirección de la memoria RAM para el buffer 6
  00000039            00054 BUFFER5             EQU                 0X39;   //Dirección de la memoria RAM para el buffer 5
  00000040            00055 BUFFER4                 EQU                     0X40;   //Dirección de la memoria RAM para el buffer 4
  00000041            00056 BUFFER3                 EQU                     0X41;   //Dirección de la memoria RAM para el buffer 3
  00000042            00057 BUFFER2                 EQU                     0X42;   //Dirección de la memoria RAM para el buffer 2
  00000043            00058 BUFFER1                 EQU                     0X43;   //Dirección de la memoria RAM para el buffer 1
  00000044            00059 BUFFER0                 EQU                     0X44;   //Dirección de la memoria RAM para el buffer 0
                      00060 ;-----------------------------------------------------------------------------------------------------
                      00061 ;
                      00062 ;Constantes
  00000000            00063 M                               EQU                .0;
  00000003            00064 N                               EQU                .3;
  000000DC            00065 L                               EQU                .220;
  0000001F            00066 BARRIDO         EQU        .31;
                      00067 ;Constantes de caracteres en siete segmentos.
  00000077            00068 CAR_A                   EQU B'01110111'; Caracter A en siete segmentos.
  0000007C            00069 CAR_B                   EQU B'01111100'; Caracter b en siete segmentos.
  00000039            00070 CAR_C                   EQU B'00111001'; Caracter C en siete segmentos.
  00000058            00071 CAR_CC                  EQU B'01011000'; Caracter c en siete segmentos.
  0000005E            00072 CAR_D                   EQU B'01011110'; Caracter D en siete segmentos.
  00000079            00073 CAR_E                   EQU B'01111001'; Caracter E en siete segmentos.
  00000071            00074 CAR_F                   EQU B'01110001'; Caracter F en siete segmentos.
  0000003D            00075 CAR_G                   EQU B'00111101'; Caracter G en siete segmentos.
  0000006F            00076 CAR_GG                  EQU B'01101111'; Caracter g en siete segmentos.
  00000076            00077 CAR_H                   EQU B'01110110'; Caracter H en siete segmentos.
  00000074            00078 CAR_HH                  EQU B'01110100'; Caracter h en siete segmentos.
  00000006            00079 CAR_I                   EQU B'00000110'; Caracter I en siete segmentos.
  00000004            00080 CAR_II                  EQU B'00000100'; Caracter i en siete segmentos.
  00000038            00081 CAR_L                   EQU B'00111000'; Caracter L en siete segmentos.
  0000001F            00082 CAR_J                   EQU B'00011111'; Caracter J en siete segmentos.
  00000037            00083 CAR_N                   EQU B'00110111'; Caracter N en siete segmentos.
  0000002B            00084 CAR_M                   EQU B'00101011'; Caracter M en siete segmentos.
  0000003F            00085 CAR_O                   EQU B'00111111'; Caracter O en siete segmentos.
  0000005C            00086 CAR_OO                  EQU B'01011100'; Caracter o en siete segmentos.
  00000073            00087 CAR_P                   EQU B'01110011'; Caracter P en siete segmentos.
  00000067            00088 CAR_Q                   EQU B'01100111'; Caracter q en siete segmentos.
  00000050            00089 CAR_R                   EQU B'01010000'; Caracter R en siete segmentos.
  0000006D            00090 CAR_S                   EQU B'01101101'; Caracter S en siete segmentos.
  00000078            00091 CAR_T                   EQU B'01111000'; Caracter t en siete segmentos.
  0000003E            00092 CAR_U                   EQU B'00111110'; Caracter U en siete segmentos.
  00000006            00093 CAR_UU                  EQU B'00000110'; Caracter u en siete segmentos.
  0000006E            00094 CAR_Y                   EQU B'01101110'; Caracter y en siete segmentos.
  0000005B            00095 CAR_Z                   EQU B'01011011'; Caracter Z en siete segmentos.
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  0000003F            00096 CAR_0                   EQU B'00111111'; Caracter 0 en siete segmentos.
  00000006            00097 CAR_1                   EQU B'00000110'; Caracter 1 en siete segmentos.
  0000005B            00098 CAR_2                   EQU B'01011011'; Caracter 2 en siete segmentos.
  0000004F            00099 CAR_3                   EQU B'01001111'; Caracter 3 en siete segmentos.
  00000066            00100 CAR_4                   EQU B'01100110'; Caracter 4 en siete segmentos.
  0000006D            00101 CAR_5                   EQU B'01101101'; Caracter 5 en siete segmentos.
  0000007D            00102 CAR_6                   EQU B'01111101'; Caracter 6 en siete segmentos.
  00000007            00103 CAR_7                   EQU B'00000111'; Caracter 7 en siete segmentos.
  0000007F            00104 CAR_8                   EQU B'01111111'; Caracter 8 en siete segmentos.
  00000067            00105 CAR_9                   EQU B'01100111'; Caracter 0 en siete segmentos.
  00000008            00106 CAR_                    EQU     B'00001000'; Caracter _ en siete segmentos.
  00000040            00107 CAR_GUION                       EQU     B'01000000'; Caracter - en siete segmentos.
  00000000            00108 CAR_NULL                EQU B'00000000'; Caracter nulo en siete segementos. 
                      00109 
                      00110 ; banderas del registro banderas.
  00000000            00111 BAN_INT                 EQU     .0;
  00000001            00112 SIN_BD1                 EQU     .1; 
  00000002            00113 SIN_BD2                 EQU     .2; 
  00000003            00114 SIN_BD3                 EQU     .3; 
  00000004            00115 SIN_BD4                 EQU     .4; 
  00000005            00116 SIN_BD5                 EQU     .5; 
  00000006            00117 SIN_BD6                 EQU     .6; 
  00000007            00118 SIN_BD7                 EQU     .7; ;Asignacion de los bits del registro bandera
                      00119 
                      00120 ;-------------------------------------------------------------------------------------
                      00121 ;
                      00122 ;Asignacion de los bits de los puertos de I/O.
                      00123 ;Puerto A.
  00000000            00124 RS_LCD                  EQU                     .0; // 
  00000001            00125 ENABLE_LCD              EQU                     .1; // 
  00000002            00126 SIN_USORA2              EQU                     .2; // Sin Uso RA2.
  00000003            00127 SIN_USORA3              EQU                     .3; // Sin Uso RA3.
  00000004            00128 SIN_USORA4              EQU                     .4; // Sin Uso RA4.
  00000005            00129 SIN_USORA5              EQU                     .5; // Sin Uso RA5.
                      00130 
  0000003C            00131 PROGA                   EQU     B'111100'; // Programacion Inicial del Puerto A.
                      00132 
                      00133 ;Puerto B.
  00000000            00134 SIN_USORB0              EQU             .0; // Sin Uso RB0.
  00000001            00135 SIN_USORB1              EQU             .1; // Sin Uso RB1.
  00000002            00136 SIN_USORB2              EQU             .2; // Sin Uso RB2.
  00000003            00137 SIN_USORB3              EQU             .3; // Sin Uso RB3.
  00000004            00138 SIN_USORB4              EQU             .4; // Sin Uso RB4.
  00000005            00139 SIN_USORB5              EQU             .5; // Sin Uso RB5.
  00000006            00140 SIN_USORB6              EQU             .6; // Sin Uso RB6.
  00000007            00141 SIN_USORB7      EQU             .7; // Sin Uso RB7.
                      00142 
  000000FF            00143 PROGB                   EQU     B'11111111'; // Programacion Inicial del Puerto B.
                      00144 
                      00145 ;Puerto C.
  00000000            00146 D0_LCD                  EQU                     .0; // Bit D0 del bus de datos de la LCD.
  00000001            00147 D1_LCD                  EQU                     .1; // Bit D1 del bus de datos de la LCD.
  00000002            00148 D2_LCD                  EQU                     .2; // Bit D2 del bus de datos de la LCD.
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

  00000003            00149 D3_LCD                  EQU                     .3; // Bit D3 del bus de datos de la LCD.
  00000004            00150 D4_LCD                  EQU                     .4; // Bit D4 del bus de datos de la LCD.
  00000005            00151 D5_LCD                  EQU                     .5; // Bit D5 del bus de datos de la LCD.
  00000006            00152 D6_LCD                  EQU                     .6; // Bit D6 del bus de datos de la LCD.
  00000007            00153 D7_LCD                  EQU                     .7; // Bit D7 del bus de datos de la LCD.
                      00154 
  00000000            00155 PROGC                   EQU     B'00000000'; // Programacion Inicial del Puerto C como Entrada.
                      00156 
                      00157 ;Puerto D.
  00000000            00158 SIN_USORD0              EQU                     .0; // Sin Uso RD0.
  00000001            00159 SIN_USORD1              EQU                     .1; // Sin Uso RD1.
  00000002            00160 SIN_USORD2              EQU                     .2; // Sin Uso RD2.
  00000003            00161 SIN_USORD3              EQU                     .3; // Sin Uso RD3.
  00000004            00162 SIN_USORD4              EQU                     .4; // Sin Uso RD4.
  00000005            00163 SIN_USORD5              EQU                     .5; // Sin Uso RD5.
  00000006            00164 SIN_USORD6              EQU                     .6; // Sin Uso RD6.
  00000007            00165 SIN_USORD7              EQU                     .7; // Sin Uso RD7.
                      00166 
  000000FF            00167 PROGD                   EQU     B'11111111'; // Programacion Inicial del Puerto D como entradas.
                      00168 
                      00169 ;Puerto E.
  00000000            00170 SIN_USORE0              EQU                     .0; // Sin Uso RE0.
  00000001            00171 SIN_USORE1              EQU                     .1; // Sin Uso RE1.
  00000002            00172 SIN_USORE2              EQU                     .2; // Sin Uso RE2.
                      00173 
  00000007            00174 PROGE                   EQU     B'111'; // Programacion inicial del Puerto E.
                      00175 ;-------------------------------------------------------------------------------------------------------
                            --
                      00176                                 ;================
                      00177                                 ;==Vector Reset==
                      00178                                 ;================
0000                  00179                                 ORG 0X0000;                             // dirección de inicio de la mem
                            oria donde el IDE comenzara a ensamblar
0000   018A           00180 VEC_RESET               CLRF PCLATH;                    // Limpia el registro PCLATH
0001   2850           00181                                 GOTO PROG_PRIN;                 // ve para la etiqueta prog_ini
                      00182 ;-------------------------------------------------------------------------------------------------------
                            --
                      00183                         ;=============================
                      00184                         ;== Subrutina de Interrupciones  ==
                      00185                         ;=============================
0004                  00186                  ORG 0004H;   
0004   00A9           00187 VEC_INT          MOVWF RES_W;           //resp.esl estado del reg. w. 
0005   0803           00188                  MOVF STATUS,W;
0006   00B0           00189                  MOVWF RES_STATUS;       //resp. banderas de la alu.
0007   0183           00190                  CLRF STATUS;
0008   080A           00191                  MOVF PCLATH,W;
0009   00B1           00192                  MOVWF RES_PCLATH;
000A   018A           00193                  CLRF PCLATH;
000B   0804           00194                  MOVF FSR,W;
000C   00B2           00195                  MOVWF RES_FSR; 
                      00196                          
000D   190B           00197                  BTFSC INTCON,T0IF;
000E   2019           00198                  CALL RUTINA_INT;
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00199                         
000F   3083           00200 SAL_INT          MOVLW .131;
0010   0081           00201                  MOVWF TMR0;
0011   0832           00202                  MOVF RES_FSR,W;
0012   0084           00203                  MOVWF FSR;
0013   0831           00204                  MOVF RES_PCLATH,W;
0014   008A           00205                  MOVWF PCLATH;
0015   0830           00206                  MOVF RES_STATUS,W;
0016   0083           00207                  MOVWF STATUS;
0017   0829           00208                  MOVF RES_W,W;
                      00209                         
0018   0009           00210                  RETFIE;
                      00211 ;--------------------------------------------------------------------------------------------------
                      00212 
                      00213 
                      00214                         ;=============================
                      00215                         ;== Subrutina de Interrupciones  ==
                      00216                         ;=============================
0019   0AB6           00217 RUTINA_INT      INCF CONT_MILIS,F;
001A   0AB3           00218                 INCF PRESC_1,F;
                      00219                         
001B   3064           00220                 MOVLW .100;
001C   0633           00221                 XORWF PRESC_1,W;
001D   1903           00222                 BTFSC STATUS,Z;
001E   2820           00223                 GOTO SIG_INT;
001F   2829           00224                 GOTO SAL_RUTINT;
                      00225 
0020   01B3           00226 SIG_INT         CLRF PRESC_1;
0021   0AB4           00227                 INCF PRESC_2,F;
0022   300A           00228                 MOVLW .10;
0023   0634           00229                 XORWF PRESC_2,W;
0024   1D03           00230                 BTFSS STATUS,Z;
0025   2829           00231                 GOTO SAL_RUTINT;
0026   01B3           00232                 CLRF PRESC_1;
0027   01B4           00233                 CLRF PRESC_2;
                      00234                         
0028   1435           00235 SAL_RUTEXT      BSF BANDERAS,BAN_INT;
                      00236                                  
0029   110B           00237 SAL_RUTINT      BCF INTCON,T0IF;
002A   0008           00238                 RETURN;
                      00239 ;-------------------------------------------------------------------------------------------------------
                            --      
                      00240 
                      00241 
                      00242                                 ;=======================
                      00243                                 ;==Subrutina de inicio==
                      00244                                 ;=======================
002B   1683           00245 PROG_INI                BSF STATUS,RP0;                 //colocate en el bco. 1 de ram
002C   3082           00246                                 MOVLW 0X82;                             // Mueve la constante 0X81 al re
                            gistro w
002D   0081           00247                                 MOVWF OPTION_REG ^0X80; // Mueve la constante 0X81 al registro OPTION_RE
                            G
002E   303C           00248                                 MOVLW PROGA;                    // Mueve el contenido de w a el registro
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                             proga
002F   0085           00249                                 MOVWF TRISA ^0X80;              // Mueve la constante 0X80 al registro T
                            RISA
0030   30FF           00250                                 MOVLW PROGB;                    // Mueve el contenido de w a el registro
                             progb
0031   0086           00251                                 MOVWF TRISB ^0X80;              // Mueve la constante 0X80 al registro T
                            RISB
0032   3000           00252                                 MOVLW PROGC;                    // Mueve el contenido de w a el registro
                             progc
0033   0087           00253                                 MOVWF TRISC ^0X80;              // Mueve la constante 0X80 al registro T
                            RISC
0034   30FF           00254                                 MOVLW PROGD;                    // Mueve el contenido de w a el registro
                             progd
0035   0088           00255                                 MOVWF TRISD ^0X80;              // Mueve la constante 0X80 al registro T
                            RISD
0036   3007           00256                                 MOVLW PROGE;                    // Mueve el contenido de w a el registro
                             proge
0037   0089           00257                                 MOVWF TRISE ^0X80;              // Mueve la constante 0X80 al registro T
                            RISE
0038   3006           00258                                 MOVLW 0X06;                             // Mueve la constante 0X06 al re
                            gistro w
0039   009F           00259                                 MOVWF ADCON1 ^0X80;             // Mueve la constante 0X80 al registro A
                            DCON1
003A   1283           00260                                 BCF     STATUS,RP0;                     //regresa al bco. 0 de ram
                      00261 
                      00262                         
003B   30A0           00263                 MOVLW 0XA0;             // Habilita la iterrupcion del TMR0, Las globales y borra las ba
                            nderas de interrupción 
003C   008B           00264                 MOVWF INTCON;
003D   3083           00265                 MOVLW .131;
003E   0081           00266                 MOVWF TMR0;
                      00267 
003F   0187           00268                                 CLRF PORTC;
0040   3003           00269                                 MOVLW 0X03;                     //Inicializa el pin Enable y RS a 1 logi
                            co
0041   0085           00270                                 MOVWF PORTA;
                      00271                                 
0042   01A9           00272                                 CLRF RES_W;
0043   01B0           00273                                 CLRF RES_STATUS;
0044   01B1           00274                                 CLRF RES_PCLATH;
0045   01B2           00275                                 CLRF RES_FSR; 
0046   01B3           00276                                 CLRF PRESC_1;
0047   01B4           00277                                 CLRF PRESC_2;
0048   01B5           00278                 CLRF BANDERAS;
0049   01A3           00279                                 CLRF CTA_UNISEG;                // Inicializa la cuenta de unidades de s
                            egundo a 0 
004A   01A4           00280                                 CLRF CTA_DECSEG;                // Inicializa la cuenta de decenas de se
                            gundo a 0 
004B   01A5           00281                                 CLRF CTA_UNIMIN;                // Inicializa la cuenta de unidades de m
                            inutos a 0 
004C   01A6           00282                                 CLRF CTA_DECMIN;                // Inicializa la cuenta de decenas de mi
                            nutos a 0 
004D   01A7           00283                                 CLRF CTA_UNIHOR;                // Inicializa la cuenta de unidades de h
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            ora a 0
004E   01A8           00284                                 CLRF CTA_DECHOR;                // Inicializa la cuenta de decenas de ho
                            ra a 0
004F   0008           00285                                 RETURN;
                      00286 ;-------------------------------------------------------------------------------------------------------
                            ---
                      00287 
                      00288                                 ;======================
                      00289                                 ;==Programa Principal==
                      00290                                 ;======================
0050   202B           00291 PROG_PRIN               CALL PROG_INI;          //Llamada a la subrutina de inicio 
                      00292 
0051   205C           00293                                 CALL INI_LCD;
                      00294 
                      00295 
0052   1005           00296                         BCF PORTA,RS_LCD;       //Pone en modo comando al LCD
0053   3088           00297                         MOVLW 0X88;
0054   0087           00298                         MOVWF PORTC;
0055   206E           00299                         CALL PULSO_ENABLE;
0056   1405           00300                         BSF PORTA,RS_LCD;       //Pone en modo datos al LCD
0057   3031           00301                         MOVLW 0X31;
0058   0087           00302                         MOVWF PORTC;
0059   206E           00303                         CALL PULSO_ENABLE;
                      00304                         
                      00305 
005A   0000           00306 TRABATE_LUCAS NOP;                      
005B   285A           00307                         GOTO TRABATE_LUCAS;
                      00308 
                      00309 
                      00310 
                      00311 ;-------------------------------------------------------------------------------------------------------
                            ---
                      00312 
                      00313         ;================================================
                      00314         ;   ==Subrutina de inicializacion en el LCD ==
                      00315         ;================================================
                      00316 
005C   1005           00317 INI_LCD         BCF PORTA,RS_LCD;       //Pone en modo comando al LCD
                      00318                         
005D   3038           00319                         MOVLW 0X38;
005E   0087           00320                         MOVWF PORTC;
005F   206E           00321                         CALL PULSO_ENABLE;
0060   300C           00322                         MOVLW 0X0C; 
0061   0087           00323                         MOVWF PORTC;
0062   206E           00324                         CALL PULSO_ENABLE;
0063   3001           00325                         MOVLW 0X01;
0064   0087           00326                         MOVWF PORTC;
0065   206E           00327                         CALL PULSO_ENABLE;
0066   3000           00328                         MOVLW 0X0;
0067   0087           00329                         MOVWF PORTC;
0068   206E           00330                         CALL PULSO_ENABLE;
0069   3080           00331                         MOVLW 0X80;
006A   0087           00332                         MOVWF PORTC;
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

006B   206E           00333                         CALL PULSO_ENABLE;
                      00334                         
006C   1405           00335                         BSF PORTA,RS_LCD;       //Pone en modo datos al LCD
006D   0008           00336                         RETURN;
                      00337 
                      00338 ;-------------------------------------------------------------------------------------------------------
                            ---
                      00339 
                      00340                                 ;==============================
                      00341                                 ;       ==Subrutina Pulso Enable=
                      00342                                 ;==============================
                      00343 
006E   1085           00344 PULSO_ENABLE    BCF PORTA,ENABLE_LCD;
006F   2072           00345                                 CALL RETARDO_1MS;
0070   1485           00346                                 BSF PORTA,ENABLE_LCD;
0071   2078           00347                                 CALL RETARDO_40MS
                      00348 ;-------------------------------------------------------------------------------------------------------
                            ---
                      00349 
                      00350 
                      00351                                 ;==============================
                      00352                                 ;==Subrutina de retardo de 1ms=
                      00353                                 ;==============================
                      00354 
0072   01B6           00355 RETARDO_1MS     CLRF CONT_MILIS;
0073   3001           00356 LOOP_1MS                MOVLW .1;
0074   0236           00357                                 SUBWF CONT_MILIS,W;
0075   1D03           00358                                 BTFSS STATUS,Z;
0076   2873           00359                                 GOTO LOOP_1MS;
                      00360                         
0077   0008           00361                                 RETURN;
                      00362 ;-------------------------------------------------------------------------------------------------------
                            ---
                      00363 
                      00364 
                      00365                                 ;==============================
                      00366                                 ;==Subrutina de retardo de 40ms=
                      00367                                 ;==============================
                      00368 
0078   01B6           00369 RETARDO_40MS    CLRF CONT_MILIS;
0079   3028           00370 LOOP_40MS               MOVLW .40;
007A   0236           00371                                 SUBWF CONT_MILIS,W;
007B   1D03           00372                                 BTFSS STATUS,Z;
007C   2879           00373                                 GOTO LOOP_40MS;
                      00374                         
007D   0008           00375                                 RETURN;
                      00376 ;-------------------------------------------------------------------------------------------------------
                            ---
                      00377  
Warning[205]: Found directive in column 1. (END)
                      00378 END
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE  9


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
BANDERAS                          00000035
BAN_INT                           00000000
BARRIDO                           0000001F
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
BUFFER0                           00000044
BUFFER1                           00000043
BUFFER2                           00000042
BUFFER3                           00000041
BUFFER4                           00000040
BUFFER5                           00000039
BUFFER6                           00000038
BUFFER7                           00000037
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CAR_                              00000008
CAR_0                             0000003F
CAR_1                             00000006
CAR_2                             0000005B
CAR_3                             0000004F
CAR_4                             00000066
CAR_5                             0000006D
CAR_6                             0000007D
CAR_7                             00000007
CAR_8                             0000007F
CAR_9                             00000067
CAR_A                             00000077
CAR_B                             0000007C
CAR_C                             00000039
CAR_CC                            00000058
CAR_D                             0000005E
CAR_E                             00000079
CAR_F                             00000071
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE 10


SYMBOL TABLE
  LABEL                             VALUE 

CAR_G                             0000003D
CAR_GG                            0000006F
CAR_GUION                         00000040
CAR_H                             00000076
CAR_HH                            00000074
CAR_I                             00000006
CAR_II                            00000004
CAR_J                             0000001F
CAR_L                             00000038
CAR_M                             0000002B
CAR_N                             00000037
CAR_NULL                          00000000
CAR_O                             0000003F
CAR_OO                            0000005C
CAR_P                             00000073
CAR_Q                             00000067
CAR_R                             00000050
CAR_S                             0000006D
CAR_T                             00000078
CAR_U                             0000003E
CAR_UU                            00000006
CAR_Y                             0000006E
CAR_Z                             0000005B
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE 11


SYMBOL TABLE
  LABEL                             VALUE 

CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
CONT_MILIS                        00000036
CREN                              00000004
CSRC                              00000007
CTA_DECHOR                        00000028
CTA_DECMIN                        00000026
CTA_DECSEG                        00000024
CTA_UNIHOR                        00000027
CTA_UNIMIN                        00000025
CTA_UNISEG                        00000023
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
D                                 00000005
D0_LCD                            00000000
D1_LCD                            00000001
D2_LCD                            00000002
D3_LCD                            00000003
D4_LCD                            00000004
D5_LCD                            00000005
D6_LCD                            00000006
D7_LCD                            00000007
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
ENABLE_LCD                        00000001
F                                 00000001
FERR                              00000002
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE 12


SYMBOL TABLE
  LABEL                             VALUE 

I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INI_LCD                           0000005C
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
L                                 000000DC
LOOP_1MS                          00000073
LOOP_40MS                         00000079
M                                 00000000
N                                 00000003
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
P                                 00000004
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PRESC_1                           00000033
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

PRESC_2                           00000034
PROGA                             0000003C
PROGB                             000000FF
PROGC                             00000000
PROGD                             000000FF
PROGE                             00000007
PROG_INI                          0000002B
PROG_PRIN                         00000050
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
PULSO_ENABLE                      0000006E
R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
READ_WRITE                        00000002
RES_FSR                           00000032
RES_PCLATH                        00000031
RES_STATUS                        00000030
RES_W                             00000029
RETARDO_1MS                       00000072
RETARDO_40MS                      00000078
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RS_LCD                            00000000
RUTINA_INT                        00000019
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SAL_INT                           0000000F
SAL_RUTEXT                        00000028
SAL_RUTINT                        00000029
SEN                               00000000
SIG_INT                           00000020
SIN_BD1                           00000001
SIN_BD2                           00000002
SIN_BD3                           00000003
SIN_BD4                           00000004
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

SIN_BD5                           00000005
SIN_BD6                           00000006
SIN_BD7                           00000007
SIN_USORA2                        00000002
SIN_USORA3                        00000003
SIN_USORA4                        00000004
SIN_USORA5                        00000005
SIN_USORB0                        00000000
SIN_USORB1                        00000001
SIN_USORB2                        00000002
SIN_USORB3                        00000003
SIN_USORB4                        00000004
SIN_USORB5                        00000005
SIN_USORB6                        00000006
SIN_USORB7                        00000007
SIN_USORD0                        00000000
SIN_USORD1                        00000001
SIN_USORD2                        00000002
SIN_USORD3                        00000003
SIN_USORD4                        00000004
SIN_USORD5                        00000005
SIN_USORD6                        00000006
SIN_USORD7                        00000007
SIN_USORE0                        00000000
SIN_USORE1                        00000001
SIN_USORE2                        00000002
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRABATE_LUCAS                     0000005A
TRISA                             00000085
TRISB                             00000086
TRISC                             00000087
TRISD                             00000088
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
VEC_INT                           00000004
VEC_RESET                         00000000
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CPD_OFF                          00003FFF
MPASM  5.30.01                    EJEMPLO XD.ASM   3-17-2021  22:50:24         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_HS_OSC                           00003FFE
_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FFD
__16F877A                         00000001
__DEBUG                           1


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XX--XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXX--
2000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used:   124
Program Memory Words Free:  8068


Errors   :     0
Warnings :     3 reported,     0 suppressed
Messages :     0 reported,     0 suppressed

